{"version":3,"sources":["Store/usersPageReducer.js","Store/man.png","components/Navbar/Navbar.module.css","Store/dialogsPageReducer.js","components/Preloader/Preloader.module.css","api/api.js","components/Navbar/Navbar.jsx","Store/appReducer.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Profile/ProfileStatusHooks.jsx","components/Profile/ProfileInfo.jsx","components/Profile/MyPosts/Post/react.png","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPost.jsx","Store/profilePageReducer.js","components/Profile/MyPosts/MyPostContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","App.js","Store/friendsPageReducer.js","Store/reduxStore.js","reportWebVitals.js","index.js","Store/authReducer.js","components/FormsControls/FormControls.module.css","components/Profile/MyPosts/MyPost.module.css","components/Users/ZKZx.gif","components/Preloader/Preloader.jsx","components/Profile/ProfileInfo.module.css","components/Header/Header.module.css","components/Profile/MyPosts/Post/Post.module.css","hoc/withAuthRedirect.js","components/FormsControls/FormsControls.js","validators/validators.js"],"names":["SET_USERS","TOGGLE_FOLLOW","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","getUsersThunkCreator","dispatch","a","setCurrentPage","toggleIsFetching","usersListAPI","getUsers","data","setUsers","items","setUsersTotalCount","totalCount","followTC","userId","toggleFollowingProgress","follow","resultCode","toggleFollow","unfollowTC","unfollow","type","usersPageReducer","state","action","map","u","id","followed","filter","module","exports","SEND_MESSAGE","dialogs","name","messages","message","sendMessageActionCreator","newMessageBody","dialogsPageReducer","stateCopy","enteredMessageText","userName","push","instance","axios","baseURL","withCredentials","headers","get","then","response","post","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","uploadPhoto","photos","formData","FormData","append","authMeAPI","me","login","email","password","rememberMe","logout","Navbar","className","style","nav","item","to","activeClassName","activeLink","INITIALIZED_SUCCESS","initialized","initializedSuccess","appReducer","Header","props","header","loginBlock","isAuth","onClick","HeaderContainer","this","React","Component","connect","auth","ProfileStatusHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","onChange","e","currentTarget","value","ProfileInfo","profile","Preloader","description","photo","src","large","userPhoto","alt","isOwner","target","files","length","text","fullName","Post","react","likes","maxLength50","maxLengthCreator","AddPostFormRedux","reduxForm","form","onSubmit","handleSubmit","textarea","Field","component","Textarea","placeholder","validate","button","MyPost","postsElements","posts","postsPadding","values","addPost","newPostBody","ADD_POST","SET_STATUS","UPLOAD_PHOTO","SET_USER_PROFILE","setUserStatus","profilePageReducer","MyPostContainer","profilePage","defaultPostText","addPostActionCreator","Profile","ProfileContainer","match","params","myId","history","getUserProfile","updateProfile","prevProps","compose","file","withRouter","withAuthRedirect","News","lazy","Login","Music","Friends","Settings","UsersContainer","DialogsContainer","App","initializeApp","path","render","fallback","app","promise","authThunkCreator","Promise","all","friendsPageReducer","reducers","combineReducers","dialogsPage","friendsPage","usersPage","authReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","SET_USERS_DATA","setAuthUsersData","stopSubmit","payload","gif","img","input","meta","hasError","touched","error","formControl","Input","requiredField","maxLength"],"mappings":"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","file":"static/js/main.83ec8ab2.chunk.js","sourcesContent":["import { usersListAPI } from \"../api/api\";\r\n\r\nconst SET_USERS = 'SET_USERS';\r\nconst TOGGLE_FOLLOW = 'TOGGLE_FOLLOW';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst SET_USERS_TOTAL_COUNT = 'SET_USERS_TOTAL_COUNT';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case TOGGLE_FOLLOW:\r\n            return {\r\n                ...state, users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: !u.followed }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n\r\n        case SET_USERS:\r\n            return { ...state, users: action.users };\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage };\r\n        case SET_USERS_TOTAL_COUNT:\r\n            return { ...state, totalUsersCount: action.totalCount };\r\n        case TOGGLE_IS_FETCHING:\r\n            return { ...state, isFetching: action.isFetching };\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state, followingInProgress: action.userId\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [state.followingInProgress.filter(id => id !== action.userId)]\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    };\r\n}\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(currentPage));\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await usersListAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n    }\r\n};\r\n\r\nexport const followTC = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        let response = await usersListAPI.follow(userId);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(toggleFollow(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n};\r\n\r\nexport const unfollowTC = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        let response = await usersListAPI.unfollow(userId);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(toggleFollow(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n};\r\n\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const toggleFollow = (userId) => ({ type: TOGGLE_FOLLOW, userId });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const setUsersTotalCount = (totalCount) => ({ type: SET_USERS_TOTAL_COUNT, totalCount });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\nexport default usersPageReducer;","export default __webpack_public_path__ + \"static/media/man.9b83f216.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1wu3z\",\"item\":\"Navbar_item__LgpA0\",\"activeLink\":\"Navbar_activeLink__2D2rt\"};","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Иван' },\r\n        { id: 2, name: 'Дмитрий' },\r\n        { id: 3, name: 'Петр' },\r\n        { id: 4, name: 'Андрей' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Привет' },\r\n        { id: 2, message: 'Здаров' },\r\n        { id: 3, message: 'Окей' },\r\n        { id: 4, message: 'Спасибо' }\r\n    ],\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let stateCopy = { ...state, messages: [...state.messages], dialogs: [...state.dialogs] };\r\n            let enteredMessageText = action.newMessageBody;\r\n            let userName = 'Без имени'\r\n            stateCopy.messages.push({ id: 5, message: enteredMessageText });\r\n            stateCopy.dialogs.push({id: 5, name:userName})\r\n            return stateCopy;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => {\r\n    return { type: SEND_MESSAGE, newMessageBody };\r\n}\r\n\r\nexport default dialogsPageReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Preloader_img__bnwNy\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: { 'API-KEY': 'df8f2239-0b7c-4065-ad2f-ebb355ed1016' }\r\n})\r\n\r\nexport const usersListAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n    },\r\n    uploadPhoto(photos) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photos)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n};\r\n\r\nexport const authMeAPI = {\r\n    me() {\r\n        return instance.get('auth/me')\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post('auth/login', { email, password, rememberMe })\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n};","import React from 'react';\r\nimport style from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={style.nav}>\r\n      <div className={style.item}>\r\n        <NavLink to='/profile' activeClassName={style.activeLink}>Главная</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to='/messages' activeClassName={style.activeLink}>Сообщения</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to='/news' activeClassName={style.activeLink}>Новости</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to='/friends' activeClassName={style.activeLink}>Друзья</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to='/music' activeClassName={style.activeLink}>Музыка</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to='/users' activeClassName={style.activeLink}>Пользователи</NavLink>\r\n      </div>\r\n      <div className={style.item}>\r\n        <NavLink to='/settings' activeClassName={style.activeLink}>Настройки</NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\nexport default Navbar;","import { authThunkCreator } from './authReducer'\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    };\r\n}\r\n\r\nexport const initializeApp = () => {\r\n    return async (dispatch) => {\r\n        let promise = dispatch(authThunkCreator())\r\n        await Promise.all([promise])\r\n        dispatch(initializedSuccess())\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\nexport default appReducer;","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={style.header}>\r\n      <div className={style.loginBlock}>\r\n        {props.isAuth\r\n          ? <div>{props.login} <button onClick={props.logout}>Выйти</button></div>\r\n          : <NavLink to={'/login'}>Войти</NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../Store/authReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    }\r\n    const onChangeStatus = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {!editMode && <div>\r\n                <span onDoubleClick={activateMode}>Статус: {props.status || 'No status'}</span>\r\n            </div>\r\n            }\r\n            {editMode && <div>\r\n                <input autoFocus={true} onBlur={deactivateMode} onChange={onChangeStatus} value={status} />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileStatusHooks;","import React from 'react';\r\nimport userPhoto from '../../Store/man.png';\r\nimport style from './ProfileInfo.module.css';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.uploadPhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={style.description}>\r\n                <img className={style.photo} src={props.profile.photos.large || userPhoto} alt='' />\r\n                <div>{props.isOwner && <input type={'file'} onChange={onPhotoSelected}></input>}</div>\r\n            </div>\r\n            <div className={style.text}>\r\n                <div>Имя пользователя: {props.profile.fullName}</div>\r\n                <ProfileStatusHooks status={props.status} updateStatus={props.updateStatus} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default ProfileInfo;","export default __webpack_public_path__ + \"static/media/react.51facde9.png\";","import React from 'react';\r\nimport react from './react.png';\r\nimport style from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={style.item}>\r\n            <img src={react} alt='' />\r\n            <div>\r\n                {props.text}\r\n            </div>\r\n            <div className={style.likes}>{props.likes} лайков</div>\r\n        </div>\r\n    );\r\n}\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport style from './MyPost.module.css';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Textarea } from '../../FormsControls/FormsControls';\r\nimport { maxLengthCreator } from '../../../validators/validators';\r\n\r\nconst MyPost = (props) => {\r\n\r\n    let postsElements = props.posts.map(post => <Post text={post.text} likes={post.likes} />);\r\n\r\n    let onPostChange = (values) => {\r\n        props.addPost(values.newPostBody);\r\n    }\r\n\r\n    return (\r\n        <div className={style.postsPadding}>\r\n            <div>\r\n                <h3>Мои посты</h3>\r\n                <div>\r\n                    <AddPostFormRedux onSubmit={onPostChange} />\r\n                </div>\r\n            </div>\r\n            <div>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst addPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={style.textarea}>\r\n                <Field component={Textarea} name='newPostBody' placeholder='Введите текст' validate={maxLength50} />\r\n            </div>\r\n            <div>\r\n                <button className={style.button}>Добавить</button>\r\n                <button className={style.button}>Удалить</button>\r\n            </div>\r\n        </form >\r\n\r\n    )\r\n}\r\nconst AddPostFormRedux = reduxForm({ form: 'addPostForm' })(addPostForm)\r\nexport default MyPost;","import { profileAPI } from '../api/api'\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst UPLOAD_PHOTO = 'UPLOAD_PHOTO';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, text: 'Первый пост', likes: 10 },\r\n        { id: 2, text: 'Второй пост', likes: 12 },\r\n        { id: 3, text: 'Третий пост', likes: 100 },\r\n        { id: 4, text: 'Четвертый пост', likes: 777 }\r\n    ],\r\n    profile: null\r\n};\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let stateCopy = { ...state, posts: [...state.posts] };\r\n            stateCopy.posts.push({ id: 5, text: action.newPostBody, likes: 0});\r\n            return stateCopy;\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return { ...state, profile: action.profile }\r\n        }\r\n        case SET_STATUS: {\r\n            return { ...state, status: action.status }\r\n        }\r\n        case UPLOAD_PHOTO: {\r\n            return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const uploadPhotoSuccess = (photos) => ({ type: UPLOAD_PHOTO, photos });\r\nexport const addPostActionCreator = (newPostBody) => ({ type: ADD_POST, newPostBody });\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setUserStatus(response.data))\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    }\r\n}\r\n\r\nexport const uploadPhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.uploadPhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(uploadPhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport default profilePageReducer;","import MyPost from './MyPost';\r\nimport { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../Store/profilePageReducer';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        defaultPostText: state.profilePage.defaultPostText\r\n    };\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostBody) => {\r\n            dispatch(addPostActionCreator(newPostBody));\r\n        }\r\n    };\r\n}\r\n\r\nconst MyPostContainer = connect(mapStateToProps, mapDispatchToProps)(MyPost);\r\n\r\nexport default MyPostContainer;","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo';\r\nimport MyPostContainer from './MyPosts/MyPostContainer';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo uploadPhoto={props.uploadPhoto}\r\n        isOwner={props.isOwner}\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus} />\r\n      <MyPostContainer />\r\n    </div>\r\n  );\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { getStatus, updateStatus, uploadPhoto, getUserProfile } from '../../Store/profilePageReducer'\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    updateProfile() {\r\n        let id = this.props.match.params.id;\r\n        if (!id) {\r\n            id = this.props.myId\r\n            if (!id) {\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n        this.props.getUserProfile(id);\r\n        this.props.getStatus(id);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.match.params.id !== prevProps.match.params.id) {\r\n            this.updateProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}\r\n        profile={this.props.profile}\r\n            status={this.props.status}\r\n            updateStatus={this.props.updateStatus}\r\n            isOwner={!this.props.match.params.id}\r\n            uploadPhoto={this.props.uploadPhoto} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    isAuth: state.auth.isAuth,\r\n    myId: state.auth.id\r\n});\r\n\r\nexport default compose(connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, uploadPhoto }),\r\n    withRouter,\r\n    withAuthRedirect)(ProfileContainer)","import './App.css';\nimport React, { Suspense } from 'react';\nimport { connect } from 'react-redux'\nimport { Route } from 'react-router-dom';\nimport Navbar from './components/Navbar/Navbar';\nimport { initializeApp } from './Store/appReducer';\nimport Preloader from './components/Preloader/Preloader';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nconst News = React.lazy(() => import('./components/News/News'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\nconst Music = React.lazy(() => import('./components/Music/Music'));\nconst Friends = React.lazy(() => import('./components/Friends/Friends'));\nconst Settings = React.lazy(() => import('./components/Settin/Settings'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  \n  render() {\n    if (!this.props.initialized) return <Preloader />\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Route path='/login' render={() => { return <Suspense fallback={<div>Loading...</div>}><Login /></Suspense> }} />\n          <Route path='/news' render={() => { return <Suspense fallback={<div>Loading...</div>}> <News /> </Suspense> }} />\n          <Route path='/music' render={() => { return <Suspense fallback={<div>Loading...</div>}> <Music /> </Suspense> }} />\n          <Route path='/friends' render={() => { return <Suspense fallback={<div>Loading...</div>}> <Friends /> </Suspense> }} />\n          <Route path='/settings' render={() => { return <Suspense fallback={<div>Loading...</div>}> <Settings /> </Suspense> }} />\n          <Route path='/users' render={() => { return <Suspense fallback={<div>Loading...</div>}> <UsersContainer /> </Suspense> }} />\n          <Route path='/messages' render={() => { return <Suspense fallback={<div>Loading...</div>}> <DialogsContainer /> </Suspense> }} />\n          <Route path='/profile/:id?' render={() => { return <ProfileContainer /> }} />\n        </div>\n      </div>\n    )\n  };\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\nexport default connect(mapStateToProps, { initializeApp })(App);","let initialState = {};\r\n\r\nconst friendsPageReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\nexport default friendsPageReducer;","import { combineReducers, createStore, applyMiddleware, compose } from 'redux';\r\nimport dialogsPageReducer from './dialogsPageReducer';\r\nimport profilePageReducer from './profilePageReducer';\r\nimport friendsPageReducer from './friendsPageReducer';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport usersPageReducer from './usersPageReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport authReducer from './authReducer';\r\nimport appReducer from './appReducer'\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    friendsPage: friendsPageReducer,\r\n    usersPage: usersPageReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.store = store;\r\n\r\nexport default store;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport App from './App';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './Store/reduxStore';\nimport { Provider } from 'react-redux';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","import { stopSubmit } from 'redux-form';\r\nimport { authMeAPI } from '../api/api'\r\nconst SET_USERS_DATA = 'SET_USERS_DATA';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_USERS_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    };\r\n}\r\n\r\nexport const authThunkCreator = () => {\r\n    return async (dispatch) => {\r\n        let response = await authMeAPI.me()\r\n        if (response.data.resultCode === 0) {\r\n            let { id, email, login } = response.data.data;\r\n            dispatch(setAuthUsersData(id, email, login, true));\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n        let response = await authMeAPI.login(email, password, rememberMe)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(authThunkCreator())\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Возникли технические неполадки!'\r\n            dispatch(stopSubmit('login', { email: message }))\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let response = await authMeAPI.logout()\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUsersData(null, null, null, false))\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const setAuthUsersData = (id, email, login, isAuth) => ({ type: SET_USERS_DATA, payload: { id, email, login, isAuth } });\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__P_EJZ\",\"error\":\"FormControls_error__1D48X\",\"formAnyError\":\"FormControls_formAnyError__3-0vq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsPadding\":\"MyPost_postsPadding__3VY_d\",\"button\":\"MyPost_button__3aVfd\",\"textarea\":\"MyPost_textarea__287dQ\"};","export default __webpack_public_path__ + \"static/media/ZKZx.4ace5f17.gif\";","import React from 'react';\r\nimport gif from '../Users/ZKZx.gif';\r\nimport style from './Preloader.module.css'\r\n\r\nconst Preloader = () => {\r\n    return <img src={gif} alt='' className={style.img} />;\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__21Wgb\",\"img\":\"ProfileInfo_img__189IB\",\"text\":\"ProfileInfo_text__2Fgkr\",\"photo\":\"ProfileInfo_photo__siJZu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Orl1\",\"loginBlock\":\"Header_loginBlock__3D-Qh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__64m3H\",\"likes\":\"Post_likes__29It4\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    return RedirectComponent;\r\n}","import React from 'react';\r\nimport style from './FormControls.module.css'\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={style.formControl + ' ' + (hasError ? style.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={style.formControl + ' ' + (hasError ? style.error : '')}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            { hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const requiredField = value => {\r\n    if (value) return undefined;\r\n    return 'Обязательное поле!';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) return `Максимальная длина ${maxLength} символа(ов)!`;\r\n    return undefined;\r\n}"],"sourceRoot":""}